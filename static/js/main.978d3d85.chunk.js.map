{"version":3,"sources":["actions/actions.js","actions/actionTypes.js","components/Header/HeaderUser.jsx","components/Header/Header.jsx","components/Cart/CartEmpty.jsx","components/Cart/CartItem.jsx","components/Cart/CartTotalPrice.jsx","components/Cart/CartTable.jsx","api/api.js","components/Cart/Cart.jsx","components/Book/BookPrice.jsx","spinner/spinner.jsx","components/Book/Book.jsx","components/SignIn/SignIn.jsx","components/NotFound/NotFound.jsx","components/BookList/BookItem.jsx","components/Filters/Filters.jsx","filters/filterForTitle.js","filters/filterForPrice.js","components/BookList/BookList.jsx","components/PrivateRoute/PrivateRoute.jsx","App.jsx","localStorage/localStorage.js","reducers/additionFunctions/updateCartItems.js","reducers/additionFunctions/updateCartItem.js","reducers/additionFunctions/updateTotalPrice.js","reducers/additionFunctions/updateOrder.js","reducers/books.js","reducers/reducers.js","store.js","index.jsx"],"names":["signIn","username","avatar","token","type","connect","state","user","books","dispatch","signOutUser","to","height","src","alt","onClick","className","CartEmpty","CartItem","currentCart","title","count","total","defaultProps","CartTotalPrice","orderTotal","cartItems","cart","map","item","key","id","API_URL","fetchApi","url","option","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","mode","headers","Authorization","body","method","Accept","JSON","stringify","purchase","func","postWithToken","fetchForSendCart","disabled","length","addBookToCart","bookId","quantity","addBook","price","maxBooks","useState","setstate","value","name","onChange","e","target","toFixed","Spinner","book","loading","fetchBookRequest","fetchBookSuccess","bookSuccess","fetchBookFailure","bookFailure","match","author","description","cover","tags","level","useEffect","get","params","setTimeout","posterImage","signInUser","inputText","setstateInput","errorText","setstateError","htmlFor","placeholder","post","NotFound","BookItem","image","search","filters","onChangeFilter","showFilteredBooks","filterForTitle","items","filter","toLowerCase","indexOf","filterForPrice","fetchBooksRequest","fetchBooksSuccess","booksSuccess","fetchBooksFailure","booksFailure","spinner","currentTodoList","booksArea","Component","component","rest","render","props","serializedData","localStorage","getItem","parse","loadState","exact","path","SignIn","BookList","Book","Cart","updateCartItems","index","slice","updateCartItem","updateTotalPrice","totalCount","updateOrder","find","itemIndex","findIndex","newItem","initialState","undefined","action","reducers","combineReducers","store","createStore","subscribe","setItem","saveState","getState","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.978d3d85.chunk.js","sourcesContent":["import * as actionTypes from './actionTypes';\n\nexport const booksRequest = () => ({\n  type: actionTypes.FETCH_BOOKS_REQUEST,\n});\n\nexport const booksSuccess = (books) => ({\n  type: actionTypes.FETCH_BOOKS_SUCCESS,\n  books,\n});\n\nexport const booksFailure = (error) => ({\n  type: actionTypes.FETCH_BOOKS_FAILURE,\n  error,\n});\n\nexport const signIn = (username, avatar, token) => ({\n  type: actionTypes.SIGNIN,\n  username,\n  avatar,\n  token,\n});\n\nexport const signOut = () => ({\n  type: actionTypes.SIGNOUT,\n});\n\nexport const addBook = (bookId, quantity) => ({\n  type: actionTypes.ADD_BOOK,\n  bookId,\n  quantity,\n});\n\nexport const bookRequest = () => ({\n  type: actionTypes.FETCH_BOOK_REQUEST,\n});\n\nexport const bookSuccess = (book) => ({\n  type: actionTypes.FETCH_BOOK_SUCCESS,\n  book,\n});\n\nexport const bookFailure = (error) => ({\n  type: actionTypes.FETCH_BOOK_FAILURE,\n  error,\n});\n\nexport const sendBook = () => ({\n  type: actionTypes.SEND_BOOK,\n});\n\nexport const showFilteredBooks = (name, value) => ({\n  type: actionTypes.SHOW_FILTERED_BOOKS,\n  name,\n  value,\n});\n","export const SIGNOUT = 'SIGNUOT';\n\nexport const SIGNIN = 'SIGNIN';\n\nexport const FETCH_BOOKS_REQUEST = 'FETCHS_BOOK_REQUEST';\n\nexport const FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\n\nexport const FETCH_BOOKS_FAILURE = 'FETCH_BOOKS_FAILURE';\n\nexport const FETCH_BOOK_REQUEST = 'FETCH_BOOK_REQUEST';\n\nexport const FETCH_BOOK_SUCCESS = 'FETCH_BOOK_SUCCESS';\n\nexport const FETCH_BOOK_FAILURE = 'FETCH_BOOK_FAILURE';\n\nexport const ADD_BOOK = 'ADD_BOOK';\n\nexport const SEND_BOOK = 'SEND_BOOKS';\n\nexport const SHOW_FILTERED_BOOKS = 'SHOW_FILTERED_BOOKS';\n","import React from 'react'\nimport {Link} from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {signOut} from '../../actions/actions';\n\nconst HeaderUser = ({user, signOutUser}) => {\n  const {username, avatar} = user;\n\n  return (\n    <div>\n      <Link to=\"/cart\">\n        <img height=\"40\" src=\"./images/cart.svg\" alt=\"cart\" />\n      </Link>\n      <button onClick={signOutUser} type=\"button\" className=\"btn btn-primary m-2\">Sing-Out</button>\n      <img height=\"40\" className=\"m-2 rounded-circle\" src={avatar} alt=\"avatar\" />\n      <span>{username}</span>\n    </div>\n  )\n}\n\nHeaderUser.propTypes = {\n  user: PropTypes.instanceOf(Object).isRequired,\n  signOutUser: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  signOutUser: () => dispatch(signOut()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderUser);","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport HeaderUser from './HeaderUser';\n\nconst Header = ({user}) => {\n  return (\n    <nav className=\"navbar navbar-dark\">\n      <h3>JS BAND STORE / Serhii Babii</h3>\n      {user.username ? <HeaderUser /> : null}\n    </nav>\n  )\n}\n\nHeader.propTypes = {\n  user: PropTypes.instanceOf(Object).isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nexport default connect(mapStateToProps)(Header);","import React from 'react'\n\nconst CartEmpty = () => {\n  return (\n    <div className=\"text-center\">\n      <img className=\"text-center\" height=\"80\" src=\"./images/cart.svg\" alt=\"empty cart\" />\n      <p>Cart empty.</p>\n    </div>\n  )\n}\n\nexport default CartEmpty;","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst CartItem = ({currentCart: {title, count, total}}) => {\n  return (\n    <tr className=\"row\">\n      <td className=\"col-7\">{title}</td>\n      <td className=\"col-4\">{count}</td>\n      <td className=\"col-1\">{total}</td>\n    </tr>\n  )\n}\n\nCartItem.defaultProps = {\n  currentCart: {},\n  title: '',\n  count: 0,\n  total: 0,\n}\n\nCartItem.propTypes = {\n  currentCart: PropTypes.instanceOf(Object),\n  title: PropTypes.string,\n  count: PropTypes.number,\n  total: PropTypes.number,\n}\n\nexport default CartItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst CartTotalPrice = ({orderTotal}) => {\n  return (\n    <div className=\"text-right\">\n      <b>\n        Total price, $\n        {orderTotal}\n      </b>\n    </div>\n  )\n}\n\nCartTotalPrice.propTypes = {\n  orderTotal: PropTypes.string.isRequired,\n}\n\nexport default CartTotalPrice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport CartItem from \"./CartItem\";\nimport CartTotalPrice from \"./CartTotalPrice\";\n\n\nconst CartTable = ({cartItems, orderTotal}) => {\n  return (\n    <div>\n      <table className=\"table m-3\">\n        <tbody>\n          {cartItems ? cartItems.map((item) => <CartItem key={item.id} currentCart={item} />) : null}\n        </tbody>\n      </table>\n      <CartTotalPrice orderTotal={orderTotal} />\n    </div>\n  )\n}\n\nCartTable.propTypes = {\n  cartItems: PropTypes.instanceOf(Object).isRequired,\n  orderTotal: PropTypes.string.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.books.cart.cartItems,\n  orderTotal: state.books.cart.orderTotal,\n});\n\nexport default connect(mapStateToProps)(CartTable);\n","const API_URL = 'https://js-band-api.glitch.me';\n\nexport const fetchApi = (url, option = {}) => {\n  return new Promise((resolve, reject) => {\n    fetch(url, option)\n      .then((response) => {\n        if (response.status < 400) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((response) => {\n        response.json().then((error) => {\n          reject(error);\n        });\n      });\n  });\n};\n\nexport default class CallApi {\n  static get(url, token) {\n    return fetchApi(`${API_URL}${url}`, {\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n  }\n\n  static post(url, body) {\n    return fetchApi(`${API_URL}${url}`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Accept: 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n  }\n\n  static postWithToken(url, token, body) {\n    return fetchApi(`${API_URL}${url}`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${token}`,\n        Accept: 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport CartEmpty from './CartEmpty';\nimport CartTable from './CartTable';\nimport {sendBook} from '../../actions/actions';\nimport CallApi from '../../api/api';\n\nconst fetchForSendCart = (cart, token, func) => {\n  CallApi.postWithToken('/purchase', token, {\n    books: cart,\n  }).then(() => {\n    func();\n  })\n}\n\nconst Cart = ({cartItems, token, purchase}) => {\n  return (\n    <div>\n      <div className=\"text-right\">\n        <button onClick={() => {fetchForSendCart(cartItems, token, purchase)}} disabled={!cartItems.length} className=\"btn btn-primary\" type=\"button\">Purchase</button>\n      </div>\n      {cartItems.length ? <CartTable /> : <CartEmpty />}\n    </div>\n  )\n}\n\nCart.propTypes = {\n  cartItems: PropTypes.instanceOf(Object).isRequired,\n  token: PropTypes.string.isRequired,\n  purchase: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.books.cart.cartItems,\n  token: state.books.user.token,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  purchase: () => dispatch(sendBook()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {addBook} from '../../actions/actions';\n\nconst BookPrice = ({id, price, maxBooks, addBookToCart}) => {\n  const [state, setstate] = useState(1);\n\n  return (\n    <div className=\"border p-2\">\n      <p className=\"row\">\n        <span className=\"col-8\">Price, $</span>\n        <span className=\"col-2\">{price}</span>\n      </p>\n      <div className=\"row\">\n        <span className=\"col-8\">Count</span>\n        <input\n          className=\"col-3 rounded pl-2 pr-0\"\n          value={state}\n          type=\"number\"\n          name=\"countInput\"\n          onChange={(e) => {\n          if(e.target.value < 0){\n            return 1\n          }\n          if(e.target.value > maxBooks) {\n            return e.target.value\n          }\n          return setstate(e.target.value)\n        }}\n        />\n      </div>\n      <p className=\"row\">\n        <span className=\"col-8\">Total price </span>\n        <span className=\"col-2\">{(price * state).toFixed(2)}</span>\n      </p>\n      <div className=\"text-right\">\n        <button onClick={()=> addBookToCart(id, state)} disabled={state < 1} className=\"btn btn-secondary\" type=\"button\">Add to cart</button>\n      </div>\n    </div>\n  )\n}\n\nBookPrice.propTypes = {\n  id: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  maxBooks: PropTypes.number.isRequired,\n  addBookToCart: PropTypes.func.isRequired,\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  addBookToCart: (bookId, quantity) => dispatch(addBook(bookId, quantity)),\n})\n\nexport default connect(null, mapDispatchToProps)(BookPrice)\n","import React from \"react\";\n\nimport \"./spinner.css\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-css ng-scope\">\n      <div className=\"lds-wedges\">\n        <div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux';\nimport {bookRequest, bookSuccess, bookFailure} from '../../actions/actions';\nimport BookPrice from './BookPrice';\nimport Spinner from '../../spinner/spinner';\nimport CallApi from '../../api/api';\n\nconst Book = ({\n  match,\n  token,\n  loading,\n  book,\n  book: {\n    id,\n    title,\n    author,\n    description,\n    cover, tags,\n    level,\n    count,\n    price,\n  },\n  fetchBookSuccess,\n  fetchBookRequest,\n  fetchBookFailure,\n}) => {\n  \n  useEffect(() => {\n    CallApi.get(`/books/${match.params.id}`, token)\n    .then((data) => {\n      fetchBookRequest();\n      setTimeout(() => fetchBookSuccess(data), 2000);\n  })\n  }, [fetchBookRequest, fetchBookSuccess, match.params.id, token]);\n\n  const posterImage = cover || './images/imageNotFound.png';\n\n  return (\n    (book.title && !loading) ? (\n      <div className=\"m-3\">\n        <div className=\"row\">\n          <img className=\"col-4\" src={posterImage} alt=\"poster\" />\n          <div className=\"col-4\">\n            <p>\n              Book name:\n              {' '}\n              {title}\n            </p>\n            <p>\n              Book author:\n              {' '}\n              {author}\n            </p>\n            <p>\n              Book level:\n              {' '}\n              {level}\n            </p>\n            <p>\n              Book tags:\n              {' '}\n              {tags}\n            </p>\n          </div>\n          <div className=\"col-4\">\n            <BookPrice id={id} price={price} maxBooks={count} />\n          </div>\n        </div>\n        <p>\n          Description: \n          {description}\n        </p>\n      </div>\n    ) : <Spinner />\n  )\n}\n\nBook.propTypes = {\n  book: PropTypes.instanceOf(Object).isRequired,\n  loading: PropTypes.bool.isRequired,\n  token: PropTypes.string.isRequired,\n  match: PropTypes.instanceOf(Object).isRequired,\n  fetchBookRequest: PropTypes.func.isRequired,\n  fetchBookSuccess: PropTypes.func.isRequired,\n  fetchBookFailure: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  book: state.books.book,\n  loading: state.books.loading,\n  token: state.books.user.token,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchBookRequest: () => dispatch(bookRequest()),\n  fetchBookSuccess: (book) => dispatch(bookSuccess(book)),\n  fetchBookFailure: (error) => dispatch(bookFailure(error)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React, {useState} from 'react'\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {Redirect} from 'react-router-dom';\nimport {signIn} from '../../actions/actions';\nimport CallApi from '../../api/api';\n\nconst fetchFOrSignin = (name, func) => {\n  CallApi.post('/signin', {\n    username: name,\n  }).then((data) => {\n    const {username, avatar, token} = data;\n    func(username, avatar, token);\n  })\n}\n\nconst SignIn = ({user, signInUser}) => {\n  const [inputText, setstateInput] = useState('');\n  const [errorText, setstateError] = useState('error');\n\n  if(user.username) {\n    return <Redirect to=\"/books\" />\n  }\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-12 text-center\">\n        <div>\n          <img className=\"border\" height=\"250\" src=\"images/defaultAvatar.png\" alt=\"avatar\" />\n        </div>\n        <div className=\"m-2\">\n          <label htmlFor=\"username\">\n            <p className=\"mb-0\"><b>Username</b></p>\n            <input\n              value={inputText}\n              onChange={(e) => {\n                setstateInput(e.target.value);\n                if(e.target.value.length < 4 || e.target.value.length > 16) {\n                  setstateError('error');\n                } else {\n                  setstateError('');\n                }\n              }}\n              className=\"col-12\"\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"type Username\"\n            />\n          </label>\n          {/* {errorText ? <p className=\"text-danger\">Field is not valid</p> : null} */}\n        </div>\n        <div>\n          <button onClick={() => fetchFOrSignin(inputText, signInUser)} disabled={!!errorText} className=\"col-2\" type=\"button\">Sign-In</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nSignIn.propTypes = {\n  user: PropTypes.instanceOf(Object).isRequired,\n  signInUser: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  signInUser: (username, avatar, token) => dispatch(signIn(username, avatar, token)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignIn);\n","import React from 'react'\n\nconst NotFound = () => {\n  return (\n    <div className=\"text-center\">\n      <img className=\"col-8\" src=\"./images/error404.jpg\" alt=\"error404\" />\n    </div>\n  )\n}\n\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nconst BookItem = ({book}) => {\n  const {id, cover, title, author, price} = book;\n  const image = cover || 'images/imageNotFound.png'\n  return (\n    <div className=\"cart row col-3 border m-4 p-3\">\n      <img className=\"col-12\" src={image} alt=\"cover\" />\n      <p className=\"col-12\">{title}</p>\n      <p className=\"col-12\">{author}</p>\n      <p className=\"row col-12\">\n        <span className=\"col-8\">\n          Price:\n          {' '}\n          {price}\n        </span>\n        <Link to={`/books/${id}`} className=\"btn btn-secondary col-4\">View</Link>\n      </p>\n    </div>\n  )\n}\n\nBookItem.propTypes = {\n  book: PropTypes.instanceOf(Object).isRequired,\n}\n\nexport default BookItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {showFilteredBooks} from '../../actions/actions';\n\nconst Filters = ({search, price, onChangeFilter}) => {\n  return (\n    <div className=\"form-group row\">\n      <input\n        onChange={(e) => onChangeFilter(e.target.name, e.target.value)}\n        value={search}\n        className=\"form-control col-6\"\n        type=\"text\"\n        name=\"search\"\n        placeholder=\"Search by book name\"\n      />\n      <select onChange={(e) => onChangeFilter(e.target.name, e.target.value)} value={price} className=\"form-control col-3\" name=\"price\">\n        <option value=\"all\">all</option>\n        <option value=\"from_0_to_15\">{'0 < price > 15'}</option>\n        <option value=\"from_15_to_30\">{'15 < price > 30'}</option>\n        <option value=\"more_than_30\">{'price > 30'}</option>\n      </select>\n    </div>\n  )\n}\n\nFilters.propTypes = {\n  search: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  onChangeFilter: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  search: state.books.filters.search,\n  price: state.books.filters.price,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChangeFilter: (name, value) => dispatch(showFilteredBooks(name, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\n","function filterForTitle(items, search) {\n  if (search.length === 0) {\n    return items;\n  }\n  return items.filter((item) => {\n    return item.title.toLowerCase().indexOf(search.toLowerCase()) > -1;\n  });\n}\n\nexport default filterForTitle;\n","// eslint-disable-next-line\nfunction filterForPrice(items, filter) {\n  if (filter === 'all') {\n    return items;\n  }\n  if (filter === 'from_0_to_15') {\n    return items.filter((item) => item.price >= 0 && item.price < 15);\n  }\n  if (filter === 'from_15_to_30') {\n    return items.filter((item) => item.price >= 15 && item.price < 30);\n  }\n  if (filter === 'more_than_30') {\n    return items.filter((item) => item.price > 30);\n  }\n}\nexport default filterForPrice;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport BookItem from './BookItem';\nimport Filters from '../Filters/Filters';\nimport {booksRequest, booksSuccess, booksFailure} from '../../actions/actions';\nimport CallApi from '../../api/api';\nimport Spinner from '../../spinner/spinner'\nimport filterForTitle from '../../filters/filterForTitle';\nimport filterForPrice from '../../filters/filterForPrice';\n\nconst BookList = ({books, token, loading, search, price, fetchBooksRequest, fetchBooksSuccess, fetchBooksFailure}) => {\n  useEffect(() => {\n    CallApi.get('/books', token)\n    .then((data) => {\n      fetchBooksRequest();\n      setTimeout(() => fetchBooksSuccess(data), 2000);\n    })\n  }, [fetchBooksRequest, fetchBooksSuccess, token]);\n\n  const spinner = (loading) ? <Spinner /> : null;\n  const currentTodoList = filterForTitle(filterForPrice(books, price), search);\n  const booksArea = (books && !loading) ? (currentTodoList.map((item)=> <BookItem key={item.id} book={item} />)) : null;\n\n  return (\n    <div className=\"row p-3\">\n      <div className=\"col-10\">\n        <Filters />\n      </div>\n      <div className=\"row\">\n        {spinner}\n        {booksArea}\n      </div>\n    </div>\n  )\n}\n\nBookList.propTypes = {\n  books: PropTypes.instanceOf(Array).isRequired,\n  token: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  search: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  fetchBooksRequest: PropTypes.func.isRequired,\n  fetchBooksSuccess: PropTypes.func.isRequired,\n  fetchBooksFailure: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  books: state.books.books,\n  token: state.books.user.token,\n  loading: state.books.loading,\n  search: state.books.filters.search,\n  price: state.books.filters.price,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchBooksRequest: () => dispatch(booksRequest()),\n  fetchBooksSuccess: (books) => dispatch(booksSuccess(books)),\n  fetchBooksFailure: (error) => dispatch(booksFailure(error)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookList);\n\n","import React from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {connect} from 'react-redux'\nimport PropTypes from 'prop-types';\n\nconst PrivateRoute = ({component: Component, user, ...rest}) => (\n  <Route\n    {...rest}\n    render={(props) => (\n      user.username ? <Component {...props} /> : <Redirect to='/signin' />\n    )}\n  />\n)\n\nPrivateRoute.propTypes = {\n  component: PropTypes.instanceOf(Object).isRequired,\n  user: PropTypes.instanceOf(Object).isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nexport default connect(mapStateToProps)(PrivateRoute);\n","import React, {useEffect} from 'react';\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Header from \"./components/Header/Header\";\nimport Cart from './components/Cart/Cart';\nimport Book from './components/Book/Book';\nimport SignIn from './components/SignIn/SignIn';\nimport NotFound from './components/NotFound/NotFound';\nimport BookList from './components/BookList/BookList';\nimport PrivateRoute from './components/PrivateRoute/PrivateRoute';\nimport { loadState } from './localStorage/localStorage';\nimport {signIn} from './actions/actions';\n\nconst App = ({signInUser}) => {\n\n  useEffect(() => {\n    const {user: {username, avatar, token}} = loadState('user');\n    signInUser(username, avatar, token);\n  }, [signInUser]);\n\n  return (\n    <Router>\n      <div className=\"container\">\n        <hr />\n        <Header />\n        <hr />\n        <Switch>\n          <Route exact path=\"/\">\n            <Redirect to=\"/signin\" />\n          </Route>\n          <Route path=\"/signin\" component={SignIn} />\n          <PrivateRoute exact path=\"/books\" component={BookList} />\n          <PrivateRoute path=\"/books/:id\" component={Book} />\n          <PrivateRoute path=\"/cart\" component={Cart} />\n          <Route exact path=\"*\" component={NotFound} />\n        </Switch>\n      </div>\n    </Router>\n  );\n}\n\nApp.propTypes = {\n  signInUser: PropTypes.func.isRequired,\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  signInUser: (username, avatar, token) => dispatch(signIn(username, avatar, token)),\n})\n\nexport default connect(null, mapDispatchToProps)(App);\n","export const loadState = () => {\n  try {\n    const serializedData = localStorage.getItem('user');\n    if (serializedData === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedData);\n  } catch (error) {\n    return undefined;\n  }\n};\n\nexport const saveState = (user) => {\n  try {\n    const serializedData = JSON.stringify(user);\n    localStorage.setItem('user', serializedData);\n  } catch (error) {\n    // ?\n  }\n};\n","const updateCartItems = (cartItems, item, index) => {\n  if (item.count === 0) {\n    return [...cartItems.slice(0, index), ...cartItems.slice(index + 1)];\n  }\n  if (index === -1) {\n    return [...cartItems, item];\n  }\n  return [...cartItems.slice(0, index), item, ...cartItems.slice(index + 1)];\n};\n\nexport default updateCartItems;\n","const updateCartItem = (book, item = {}, quantity) => {\n  const { id = book.id, count = 0, title = book.title, total = 0 } = item;\n  const price = total + quantity * book.price;\n  return {\n    id,\n    count: +count + +quantity,\n    title,\n    total: +price.toFixed(2),\n  };\n};\n\nexport default updateCartItem;\n","const updateTotalPrice = (cartItems, book, quantity) => {\n  let totalCount = 0;\n  cartItems.map((item) => {\n    totalCount += item.total;\n    return totalCount;\n  });\n  return totalCount + book.price * quantity;\n};\n\nexport default updateTotalPrice;\n","import updateCartItems from './updateCartItems';\nimport updateCartItem from './updateCartItem';\nimport updateTotalPrice from './updateTotalPrice';\n\nconst updateOrder = (bookId, quantity, state) => {\n  const {\n    books,\n    cart: { cartItems },\n  } = state;\n  const book = books.find((item) => item.id === bookId);\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n  const item = cartItems[itemIndex];\n  const newItem = updateCartItem(book, item, quantity);\n\n  return {\n    cartItems: updateCartItems(cartItems, newItem, itemIndex),\n    orderTotal: updateTotalPrice(cartItems, book, quantity).toFixed(2),\n  };\n};\n\nexport default updateOrder;\n","import * as actionTypes from '../actions/actionTypes';\nimport updateOrder from './additionFunctions/updateOrder';\n\nconst initialState = {\n  user: {\n    username: undefined,\n    avatar: undefined,\n    token: undefined,\n  },\n  books: [],\n  book: {},\n  filters: {\n    search: '',\n    price: 'all',\n  },\n  cart: {\n    cartItems: [],\n    orderTotal: undefined,\n  },\n  loading: false,\n  error: null,\n};\n\nconst books = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SIGNIN:\n      return {\n        ...state,\n        user: {\n          username: action.username,\n          avatar: action.avatar,\n          token: action.token,\n        },\n      };\n    case actionTypes.SIGNOUT:\n      return {\n        ...state,\n        user: {\n          username: undefined,\n          avatar: undefined,\n          token: undefined,\n        },\n        cart: {\n          cartItems: [],\n          orderTotal: undefined,\n        },\n      };\n    case actionTypes.SHOW_FILTERED_BOOKS:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          [action.name]: action.value,\n        },\n      };\n    case actionTypes.FETCH_BOOKS_REQUEST:\n      return {\n        ...state,\n        books: [],\n        loading: true,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOKS_SUCCESS:\n      return {\n        ...state,\n        books: action.books,\n        loading: false,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOKS_FAILURE:\n      return {\n        ...state,\n        books: [],\n        loading: false,\n        error: action.error,\n      };\n    case actionTypes.FETCH_BOOK_REQUEST:\n      return {\n        ...state,\n        book: {},\n        loading: true,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOK_SUCCESS:\n      return {\n        ...state,\n        book: action.book,\n        loading: false,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOK_FAILURE:\n      return {\n        ...state,\n        book: {},\n        loading: false,\n        error: action.error,\n      };\n    case actionTypes.ADD_BOOK:\n      return {\n        ...state,\n        cart: updateOrder(action.bookId, action.quantity, state),\n      };\n    case actionTypes.SEND_BOOK:\n      return {\n        ...state,\n        cart: {\n          cartItems: [],\n          orderTotal: undefined,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default books;\n","import { combineReducers } from 'redux';\nimport books from './books';\n\nconst reducers = combineReducers({\n  books,\n});\n\nexport default reducers;\n","import { createStore } from 'redux';\nimport reducers from './reducers/reducers';\nimport { saveState } from './localStorage/localStorage';\n\n// eslint-disable-next-line no-underscore-dangle\nconst store = createStore(reducers);\n\nstore.subscribe(() => {\n  saveState({\n    user: store.getState().books.user,\n  });\n});\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {Provider} from 'react-redux';\nimport App from './App';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}