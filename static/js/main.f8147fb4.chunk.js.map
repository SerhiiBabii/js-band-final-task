{"version":3,"sources":["components/Header/HeaderUser.jsx","actions/actions.js","actions/actionTypes.js","components/Header/Header.jsx","components/Cart/CartEmpty.jsx","components/Cart/CartItem.jsx","components/Cart/CartTotalPrice.jsx","components/Cart/CartTable.jsx","api/api.js","components/Cart/Cart.jsx","components/Book/BookPrice.jsx","spinner/spinner.jsx","components/Book/Book.jsx","components/SignIn/SignIn.jsx","components/NotFound/NotFound.jsx","components/BookList/BookItem.jsx","components/Filters/Filters.jsx","filters/filterForTitle.js","filters/filterForPrice.js","components/BookList/BookList.jsx","reducers/additionFunctions/updateCartItems.js","reducers/additionFunctions/updateCartItem.js","reducers/additionFunctions/updateTotalPrice.js","reducers/additionFunctions/updateOrder.js","reducers/books.js","reducers/reducers.js","store.js","App.jsx","index.jsx"],"names":["connect","state","user","books","dispatch","signOutUser","type","username","avatar","to","height","src","alt","onClick","className","CartEmpty","CartItem","currentCart","title","count","total","defaultProps","CartTotalPrice","orderTotal","cartItems","cart","map","item","key","id","API_URL","fetchApi","url","option","Promise","resolve","reject","fetch","then","response","status","json","data","catch","error","CallApi","token","mode","headers","Authorization","body","method","Accept","JSON","stringify","purchase","func","postWithToken","fetchForSendCart","disabled","length","addBookToCart","bookId","quantity","addBook","price","maxBooks","useState","setstate","value","name","onChange","e","target","toFixed","Spinner","book","loading","fetchBookRequest","fetchBookSuccess","bookSuccess","fetchBookFailure","bookFailure","match","author","description","cover","tags","level","useEffect","get","params","setTimeout","posterImage","signInUser","signIn","inputText","setstateInput","errorText","setstateError","htmlFor","placeholder","post","NotFound","BookItem","image","search","filters","onChangeFilter","showFilteredBooks","filterForTitle","items","filter","toLowerCase","indexOf","filterForPrice","fetchBooksRequest","fetchBooksSuccess","booksSuccess","fetchBooksFailure","booksFailure","spinner","currentTodoList","booksArea","updateCartItems","index","slice","updateCartItem","updateTotalPrice","totalCount","updateOrder","find","itemIndex","findIndex","newItem","initialState","undefined","action","reducers","combineReducers","store","createStore","App","exact","path","component","SignIn","BookList","Book","Cart","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f8147fb4.chunk.js","sourcesContent":["import React from 'react'\nimport {Link} from 'react-router-dom'\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {signOut} from '../../actions/actions';\n\nconst HeaderUser = ({user, signOutUser}) => {\n  const {username, avatar} = user;\n\n  return (\n    <div>\n      <Link to=\"/cart\">\n        <img height=\"40\" src=\"./images/cart.svg\" alt=\"cart\" />\n      </Link>\n      <button onClick={signOutUser} type=\"button\" className=\"btn btn-primary m-2\">Sing-Out</button>\n      <img height=\"40\" className=\"m-2 rounded-circle\" src={avatar} alt=\"avatar\" />\n      <span>{username}</span>\n    </div>\n  )\n}\n\nHeaderUser.propTypes = {\n  user: PropTypes.instanceOf(Object).isRequired,\n  signOutUser: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  signOutUser: () => dispatch(signOut()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderUser);","import * as actionTypes from './actionTypes';\n\nexport const booksRequest = () => ({\n  type: actionTypes.FETCH_BOOKS_REQUEST,\n});\n\nexport const booksSuccess = (books) => ({\n  type: actionTypes.FETCH_BOOKS_SUCCESS,\n  books,\n});\n\nexport const booksFailure = (error) => ({\n  type: actionTypes.FETCH_BOOKS_FAILURE,\n  error,\n});\n\nexport const signIn = (username, avatar, token) => ({\n  type: actionTypes.SIGNIN,\n  username,\n  avatar,\n  token,\n});\n\nexport const signOut = () => ({\n  type: actionTypes.SIGNOUT,\n});\n\nexport const addBook = (bookId, quantity) => ({\n  type: actionTypes.ADD_BOOK,\n  bookId,\n  quantity,\n});\n\nexport const bookRequest = () => ({\n  type: actionTypes.FETCH_BOOK_REQUEST,\n});\n\nexport const bookSuccess = (book) => ({\n  type: actionTypes.FETCH_BOOK_SUCCESS,\n  book,\n});\n\nexport const bookFailure = (error) => ({\n  type: actionTypes.FETCH_BOOK_FAILURE,\n  error,\n});\n\nexport const sendBook = () => ({\n  type: actionTypes.SEND_BOOK,\n});\n\nexport const showFilteredBooks = (name, value) => ({\n  type: actionTypes.SHOW_FILTERED_BOOKS,\n  name,\n  value,\n});\n","export const SIGNOUT = 'SIGNUOT';\n\nexport const SIGNIN = 'SIGNIN';\n\nexport const FETCH_BOOKS_REQUEST = 'FETCHS_BOOK_REQUEST';\n\nexport const FETCH_BOOKS_SUCCESS = 'FETCH_BOOKS_SUCCESS';\n\nexport const FETCH_BOOKS_FAILURE = 'FETCH_BOOKS_FAILURE';\n\nexport const FETCH_BOOK_REQUEST = 'FETCH_BOOK_REQUEST';\n\nexport const FETCH_BOOK_SUCCESS = 'FETCH_BOOK_SUCCESS';\n\nexport const FETCH_BOOK_FAILURE = 'FETCH_BOOK_FAILURE';\n\nexport const ADD_BOOK = 'ADD_BOOK';\n\nexport const SEND_BOOK = 'SEND_BOOKS';\n\nexport const SHOW_FILTERED_BOOKS = 'SHOW_FILTERED_BOOKS';\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport HeaderUser from './HeaderUser';\n\nconst Header = ({user}) => {\n  return (\n    <nav className=\"navbar navbar-dark\">\n      <h3>JS BAND STORE / Serhii Babii</h3>\n      {user.username ? <HeaderUser /> : null}\n    </nav>\n  )\n}\n\nHeader.propTypes = {\n  user: PropTypes.instanceOf(Object).isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  user: state.books.user,\n})\n\nexport default connect(mapStateToProps)(Header);","import React from 'react'\n\nconst CartEmpty = () => {\n  return (\n    <div className=\"text-center\">\n      <img className=\"text-center\" height=\"80\" src=\"./images/cart.svg\" alt=\"empty cart\" />\n      <p>Cart empty.</p>\n    </div>\n  )\n}\n\nexport default CartEmpty;","import React from 'react'\nimport PropTypes from 'prop-types'\n\nconst CartItem = ({currentCart: {title, count, total}}) => {\n  return (\n    <tr className=\"row\">\n      <td className=\"col-7\">{title}</td>\n      <td className=\"col-4\">{count}</td>\n      <td className=\"col-1\">{total}</td>\n    </tr>\n  )\n}\n\nCartItem.defaultProps = {\n  currentCart: {},\n  title: '',\n  count: 0,\n  total: 0,\n}\n\nCartItem.propTypes = {\n  currentCart: PropTypes.instanceOf(Object),\n  title: PropTypes.string,\n  count: PropTypes.number,\n  total: PropTypes.number,\n}\n\nexport default CartItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst CartTotalPrice = ({orderTotal}) => {\n  return (\n    <div>\n      <b>\n        Total price, $\n        {orderTotal}\n      </b>\n    </div>\n  )\n}\n\nCartTotalPrice.propTypes = {\n  orderTotal: PropTypes.string.isRequired,\n}\n\nexport default CartTotalPrice;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport CartItem from \"./CartItem\";\nimport CartTotalPrice from \"./CartTotalPrice\";\n\n\nconst CartTable = ({cartItems, orderTotal}) => {\n  return (\n    <div>\n      <table className=\"table m-3\">\n        <tbody>\n          {cartItems ? cartItems.map((item) => <CartItem key={item.id} currentCart={item} />) : null}\n        </tbody>\n      </table>\n      <CartTotalPrice orderTotal={orderTotal} />\n    </div>\n  )\n}\n\nCartTable.propTypes = {\n  cartItems: PropTypes.instanceOf(Object).isRequired,\n  orderTotal: PropTypes.string.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.books.cart.cartItems,\n  orderTotal: state.books.cart.orderTotal,\n});\n\nexport default connect(mapStateToProps)(CartTable);\n","const API_URL = 'https://js-band-api.glitch.me';\n\nexport const fetchApi = (url, option = {}) => {\n  return new Promise((resolve, reject) => {\n    fetch(url, option)\n      .then((response) => {\n        if (response.status < 400) {\n          return response.json();\n        }\n        throw response;\n      })\n      .then((data) => {\n        resolve(data);\n      })\n      .catch((response) => {\n        response.json().then((error) => {\n          reject(error);\n        });\n      });\n  });\n};\n\nexport default class CallApi {\n  static get(url, token) {\n    return fetchApi(`${API_URL}${url}`, {\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${token}`,\n      },\n    });\n  }\n\n  static post(url, body) {\n    return fetchApi(`${API_URL}${url}`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Accept: 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n  }\n\n  static postWithToken(url, token, body) {\n    return fetchApi(`${API_URL}${url}`, {\n      method: 'POST',\n      mode: 'cors',\n      headers: {\n        'Content-type': 'application/json',\n        Authorization: `Bearer ${token}`,\n        Accept: 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport CartEmpty from './CartEmpty';\nimport CartTable from './CartTable';\nimport {sendBook} from '../../actions/actions';\nimport CallApi from '../../api/api';\n\nconst fetchForSendCart = (cart, token, func) => {\n  CallApi.postWithToken('/purchase', token, {\n    books: cart,\n  }).then(() => {\n    func();\n  })\n}\n\nconst Cart = ({cartItems, token, purchase}) => {\n  return (\n    <div>\n      <div className=\"text-right\">\n        <button onClick={() => {fetchForSendCart(cartItems, token, purchase)}} disabled={!cartItems.length} className=\"btn btn-primary\" type=\"button\">Purchase</button>\n      </div>\n      {cartItems.length ? <CartTable /> : <CartEmpty />}\n    </div>\n  )\n}\n\nCart.propTypes = {\n  cartItems: PropTypes.instanceOf(Object).isRequired,\n  token: PropTypes.string.isRequired,\n  purchase: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  cartItems: state.books.cart.cartItems,\n  token: state.books.user.token,\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  purchase: () => dispatch(sendBook()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n","import React, {useState} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {addBook} from '../../actions/actions';\n\nconst BookPrice = ({id, price, maxBooks, addBookToCart}) => {\n  const [state, setstate] = useState(1);\n\n  return (\n    <div className=\"border p-2\">\n      <p className=\"row\">\n        <span className=\"col-8\">Price, $</span>\n        <span className=\"col-2\">{price}</span>\n      </p>\n      <div className=\"row\">\n        <span className=\"col-8\">Count</span>\n        <input\n          className=\"col-3 rounded pl-2 pr-0\"\n          value={state}\n          type=\"number\"\n          name=\"countInput\"\n          onChange={(e) => {\n          if(e.target.value < 0){\n            return 1\n          }\n          if(e.target.value > maxBooks) {\n            return e.target.value\n          }\n          return setstate(e.target.value)\n        }}\n        />\n      </div>\n      <p className=\"row\">\n        <span className=\"col-8\">Total price </span>\n        <span className=\"col-2\">{(price * state).toFixed(2)}</span>\n      </p>\n      <div className=\"text-right\">\n        <button onClick={()=> addBookToCart(id, state)} disabled={state < 1} className=\"btn btn-secondary\" type=\"button\">Add to cart</button>\n      </div>\n    </div>\n  )\n}\n\nBookPrice.propTypes = {\n  id: PropTypes.string.isRequired,\n  price: PropTypes.number.isRequired,\n  maxBooks: PropTypes.number.isRequired,\n  addBookToCart: PropTypes.func.isRequired,\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  addBookToCart: (bookId, quantity) => dispatch(addBook(bookId, quantity)),\n})\n\nexport default connect(null, mapDispatchToProps)(BookPrice)\n","import React from \"react\";\n\nimport \"./spinner.css\";\n\nconst Spinner = () => {\n  return (\n    <div className=\"lds-css ng-scope\">\n      <div className=\"lds-wedges\">\n        <div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n          <div>\n            <div />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Spinner;","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux';\nimport {bookRequest, bookSuccess, bookFailure} from '../../actions/actions';\nimport BookPrice from './BookPrice';\nimport Spinner from '../../spinner/spinner';\nimport CallApi from '../../api/api';\n\nconst Book = ({\n  match,\n  token,\n  loading,\n  book,\n  book: {\n    id,\n    title,\n    author,\n    description,\n    cover, tags,\n    level,\n    count,\n    price,\n  },\n  fetchBookSuccess,\n  fetchBookRequest,\n  fetchBookFailure,\n}) => {\n  \n  useEffect(() => {\n    CallApi.get(`/books/${match.params.id}`, token)\n    .then((data) => {\n      fetchBookRequest();\n      setTimeout(() => fetchBookSuccess(data), 2000);\n  })\n  }, [fetchBookRequest, fetchBookSuccess, match.params.id, token]);\n\n  const posterImage = cover || './images/imageNotFound.png';\n\n  return (\n    (book.title && !loading) ? (\n      <div className=\"m-3\">\n        <div className=\"row\">\n          <img className=\"col-4\" src={posterImage} alt=\"poster\" />\n          <div className=\"col-4\">\n            <p>\n              Book name:\n              {' '}\n              {title}\n            </p>\n            <p>\n              Book author:\n              {' '}\n              {author}\n            </p>\n            <p>\n              Book level:\n              {' '}\n              {level}\n            </p>\n            <p>\n              Book tags:\n              {' '}\n              {tags}\n            </p>\n          </div>\n          <div className=\"col-4\">\n            <BookPrice id={id} price={price} maxBooks={count} />\n          </div>\n        </div>\n        <p>\n          Description: \n          {description}\n        </p>\n      </div>\n    ) : <Spinner />\n  )\n}\n\nBook.propTypes = {\n  book: PropTypes.instanceOf(Object).isRequired,\n  loading: PropTypes.bool.isRequired,\n  token: PropTypes.string.isRequired,\n  match: PropTypes.instanceOf(Object).isRequired,\n  fetchBookRequest: PropTypes.func.isRequired,\n  fetchBookSuccess: PropTypes.func.isRequired,\n  fetchBookFailure: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  book: state.books.book,\n  loading: state.books.loading,\n  token: state.books.user.token,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchBookRequest: () => dispatch(bookRequest()),\n  fetchBookSuccess: (book) => dispatch(bookSuccess(book)),\n  fetchBookFailure: (error) => dispatch(bookFailure(error)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Book);\n","import React, {useState} from 'react'\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {signIn} from '../../actions/actions';\nimport CallApi from '../../api/api';\n\nconst fetchFOrSignin = (name, func) => {\n  CallApi.post('/signin', {\n    username: name,\n  }).then((data) => {\n    const {username, avatar, token} = data;\n    func(username, avatar, token);\n  })\n}\n\nconst SignIn = ({signInUser}) => {\n  const [inputText, setstateInput] = useState('');\n  const [errorText, setstateError] = useState('error');\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-12 text-center\">\n        <div>\n          <img className=\"border\" height=\"250\" src=\"images/defaultAvatar.png\" alt=\"avatar\" />\n        </div>\n        <div className=\"m-2\">\n          <label htmlFor=\"username\">\n            <p className=\"mb-0\"><b>Username</b></p>\n            <input\n              value={inputText}\n              onChange={(e) => {\n                setstateInput(e.target.value);\n                if(e.target.value.length < 4 || e.target.value.length > 16) {\n                  setstateError('error');\n                } else {\n                  setstateError('');\n                }\n              }}\n              className=\"col-12\"\n              type=\"text\"\n              name=\"username\"\n              id=\"username\"\n              placeholder=\"type Username\"\n            />\n          </label>\n          {errorText ? <p className=\"text-danger\">Field is not valid</p> : null}\n        </div>\n        <div>\n          <button onClick={() => fetchFOrSignin(inputText, signInUser)} disabled={!!errorText} className=\"col-2\" type=\"button\">Sign-In</button>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nSignIn.propTypes = {\n  signInUser: PropTypes.func.isRequired,\n}\n\nconst mapDispatchToProps = (dispatch) => ({\n  signInUser: (username, avatar, token) => dispatch(signIn(username, avatar, token)),\n})\n\nexport default connect(null, mapDispatchToProps)(SignIn);\n","import React from 'react'\n\nconst NotFound = () => {\n  return (\n    <div className=\"text-center\">\n      <img className=\"col-8\" src=\"./images/error404.jpg\" alt=\"error404\" />\n    </div>\n  )\n}\n\nexport default NotFound;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {Link} from 'react-router-dom';\n\nconst BookItem = ({book}) => {\n  const {id, cover, title, author, price} = book;\n  const image = cover || 'images/imageNotFound.png'\n  return (\n    <div className=\"cart row col-3 border m-4 p-3\">\n      <img className=\"col-12\" src={image} alt=\"cover\" />\n      <p className=\"col-12\">{title}</p>\n      <p className=\"col-12\">{author}</p>\n      <p className=\"row col-12\">\n        <span className=\"col-8\">\n          Price:\n          {' '}\n          {price}\n        </span>\n        <Link to={`/books/${id}`} className=\"btn btn-secondary col-4\">View</Link>\n      </p>\n    </div>\n  )\n}\n\nBookItem.propTypes = {\n  book: PropTypes.instanceOf(Object).isRequired,\n}\n\nexport default BookItem;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport {showFilteredBooks} from '../../actions/actions';\n\nconst Filters = ({search, price, onChangeFilter}) => {\n  return (\n    <div className=\"form-group row\">\n      <input\n        onChange={(e) => onChangeFilter(e.target.name, e.target.value)}\n        value={search}\n        className=\"form-control col-6\"\n        type=\"text\"\n        name=\"search\"\n        placeholder=\"Search by book name\"\n      />\n      <select onChange={(e) => onChangeFilter(e.target.name, e.target.value)} value={price} className=\"form-control col-3\" name=\"price\">\n        <option value=\"all\">all</option>\n        <option value=\"from_0_to_15\">{'0 < price > 15'}</option>\n        <option value=\"from_15_to_30\">{'15 < price > 30'}</option>\n        <option value=\"more_than_30\">{'price > 30'}</option>\n      </select>\n    </div>\n  )\n}\n\nFilters.propTypes = {\n  search: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  onChangeFilter: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  search: state.books.filters.search,\n  price: state.books.filters.price,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  onChangeFilter: (name, value) => dispatch(showFilteredBooks(name, value)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filters);\n","function filterForTitle(items, search) {\n  if (search.length === 0) {\n    return items;\n  }\n  return items.filter((item) => {\n    return item.title.toLowerCase().indexOf(search.toLowerCase()) > -1;\n  });\n}\n\nexport default filterForTitle;\n","// eslint-disable-next-line\nfunction filterForPrice(items, filter) {\n  if (filter === 'all') {\n    return items;\n  }\n  if (filter === 'from_0_to_15') {\n    return items.filter((item) => item.price >= 0 && item.price < 15);\n  }\n  if (filter === 'from_15_to_30') {\n    return items.filter((item) => item.price >= 15 && item.price < 30);\n  }\n  if (filter === 'more_than_30') {\n    return items.filter((item) => item.price > 30);\n  }\n}\nexport default filterForPrice;\n","import React, {useEffect} from 'react';\nimport PropTypes from 'prop-types';\nimport {connect} from 'react-redux';\nimport BookItem from './BookItem';\nimport Filters from '../Filters/Filters';\nimport {booksRequest, booksSuccess, booksFailure} from '../../actions/actions';\nimport CallApi from '../../api/api';\nimport Spinner from '../../spinner/spinner'\nimport filterForTitle from '../../filters/filterForTitle';\nimport filterForPrice from '../../filters/filterForPrice';\n\nconst BookList = ({books, token, loading, search, price, fetchBooksRequest, fetchBooksSuccess, fetchBooksFailure}) => {\n  useEffect(() => {\n    CallApi.get('/books', token)\n    .then((data) => {\n      fetchBooksRequest();\n      setTimeout(() => fetchBooksSuccess(data), 2000);\n    })\n  }, [fetchBooksRequest, fetchBooksSuccess, token]);\n\n  const spinner = (loading) ? <Spinner /> : null;\n  const currentTodoList = filterForTitle(filterForPrice(books, price), search);\n  const booksArea = (books && !loading) ? (currentTodoList.map((item)=> <BookItem key={item.id} book={item} />)) : null;\n\n  return (\n    <div className=\"row p-3\">\n      <div className=\"col-10\">\n        <Filters />\n      </div>\n      <div className=\"row\">\n        {spinner}\n        {booksArea}\n      </div>\n    </div>\n  )\n}\n\nBookList.propTypes = {\n  books: PropTypes.instanceOf(Array).isRequired,\n  token: PropTypes.string.isRequired,\n  loading: PropTypes.bool.isRequired,\n  search: PropTypes.string.isRequired,\n  price: PropTypes.string.isRequired,\n  fetchBooksRequest: PropTypes.func.isRequired,\n  fetchBooksSuccess: PropTypes.func.isRequired,\n  fetchBooksFailure: PropTypes.func.isRequired,\n}\n\nconst mapStateToProps = (state) => ({\n  books: state.books.books,\n  token: state.books.user.token,\n  loading: state.books.loading,\n  search: state.books.filters.search,\n  price: state.books.filters.price,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n  fetchBooksRequest: () => dispatch(booksRequest()),\n  fetchBooksSuccess: (books) => dispatch(booksSuccess(books)),\n  fetchBooksFailure: (error) => dispatch(booksFailure(error)),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BookList);\n\n","const updateCartItems = (cartItems, item, index) => {\n  if (item.count === 0) {\n    return [...cartItems.slice(0, index), ...cartItems.slice(index + 1)];\n  }\n  if (index === -1) {\n    return [...cartItems, item];\n  }\n  return [...cartItems.slice(0, index), item, ...cartItems.slice(index + 1)];\n};\n\nexport default updateCartItems;\n","const updateCartItem = (book, item = {}, quantity) => {\n  const { id = book.id, count = 0, title = book.title, total = 0 } = item;\n  const price = total + quantity * book.price;\n  return {\n    id,\n    count: +count + +quantity,\n    title,\n    total: +price.toFixed(2),\n  };\n};\n\nexport default updateCartItem;\n","const updateTotalPrice = (cartItems, book, quantity) => {\n  let totalCount = 0;\n  cartItems.map((item) => {\n    totalCount += item.total;\n    return totalCount;\n  });\n  return totalCount + book.price * quantity;\n};\n\nexport default updateTotalPrice;\n","import updateCartItems from './updateCartItems';\nimport updateCartItem from './updateCartItem';\nimport updateTotalPrice from './updateTotalPrice';\n\nconst updateOrder = (bookId, quantity, state) => {\n  const {\n    books,\n    cart: { cartItems },\n  } = state;\n  const book = books.find((item) => item.id === bookId);\n  const itemIndex = cartItems.findIndex(({ id }) => id === bookId);\n  const item = cartItems[itemIndex];\n  const newItem = updateCartItem(book, item, quantity);\n\n  return {\n    cartItems: updateCartItems(cartItems, newItem, itemIndex),\n    orderTotal: updateTotalPrice(cartItems, book, quantity).toFixed(2),\n  };\n};\n\nexport default updateOrder;\n","import * as actionTypes from '../actions/actionTypes';\nimport updateOrder from './additionFunctions/updateOrder';\n\nconst initialState = {\n  user: {\n    username: undefined,\n    avatar: undefined,\n    token: undefined,\n  },\n  books: [],\n  book: {},\n  filters: {\n    search: '',\n    price: 'all',\n  },\n  cart: {\n    cartItems: [],\n    orderTotal: undefined,\n  },\n  loading: false,\n  error: null,\n};\n\nconst books = (state = initialState, action) => {\n  switch (action.type) {\n    case actionTypes.SIGNIN:\n      return {\n        ...state,\n        user: {\n          username: action.username,\n          avatar: action.avatar,\n          token: action.token,\n        },\n      };\n    case actionTypes.SIGNOUT:\n      return {\n        ...state,\n        user: {\n          username: undefined,\n          avatar: undefined,\n          token: undefined,\n        },\n      };\n    case actionTypes.SHOW_FILTERED_BOOKS:\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          [action.name]: action.value,\n        },\n      };\n    case actionTypes.FETCH_BOOKS_REQUEST:\n      return {\n        ...state,\n        books: [],\n        loading: true,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOKS_SUCCESS:\n      return {\n        ...state,\n        books: action.books,\n        loading: false,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOKS_FAILURE:\n      return {\n        ...state,\n        books: [],\n        loading: false,\n        error: action.error,\n      };\n    case actionTypes.FETCH_BOOK_REQUEST:\n      return {\n        ...state,\n        book: {},\n        loading: true,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOK_SUCCESS:\n      return {\n        ...state,\n        book: action.book,\n        loading: false,\n        error: null,\n      };\n    case actionTypes.FETCH_BOOK_FAILURE:\n      return {\n        ...state,\n        book: {},\n        loading: false,\n        error: action.error,\n      };\n    case actionTypes.ADD_BOOK:\n      return {\n        ...state,\n        cart: updateOrder(action.bookId, action.quantity, state),\n      };\n    case actionTypes.SEND_BOOK:\n      return {\n        ...state,\n        cart: {\n          cartItems: [],\n          orderTotal: undefined,\n        },\n      };\n    default:\n      return state;\n  }\n};\n\nexport default books;\n","import { combineReducers } from 'redux';\nimport books from './books';\n\nconst reducers = combineReducers({\n  books,\n});\n\nexport default reducers;\n","import { createStore } from 'redux';\nimport reducers from './reducers/reducers';\n\nconst store = createStore(reducers);\n\nexport default store;\n","import React from 'react';\nimport { HashRouter as Router, Route, Switch, Redirect } from \"react-router-dom\";\nimport {Provider} from 'react-redux'\nimport Header from \"./components/Header/Header\";\nimport Cart from './components/Cart/Cart';\nimport Book from './components/Book/Book';\nimport SignIn from './components/SignIn/SignIn';\nimport NotFound from './components/NotFound/NotFound';\nimport BookList from './components/BookList/BookList';\nimport store from './store'\n\nconst App = () => {\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className=\"container\">\n          <hr />\n          <Header />\n          <hr />\n          <Switch>\n            <Route exact path=\"/\">\n              <Redirect to=\"/signin\" />\n            </Route>\n            <Route path=\"/signin\" component={SignIn} /> \n            <Route exact path=\"/books\" component={BookList} /> \n            <Route path=\"/books/:id\" component={Book} />\n            <Route path=\"/cart\" component={Cart} />\n            <Route exact path=\"*\" component={NotFound} />\n          </Switch>\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}